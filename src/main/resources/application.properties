
spring.ai.ollama.base-url=http://localhost:11434
logging.pattern.console=%msg%n
logging.level.root=warn
logging.level.org.springframework.context.annotation.AnnotationBeanNameGenerator=error
spring.main.log-startup-info=false
spring.main.banner-mode=off
logging.level.org.springframework.context.support.PostProcessorRegistrationDelegate=warn
logging.level.se.alipsa.lca.repl.JLineRepl=info
logging.level.se.alipsa.lca.repl.ReplRunner=info


# Changing default LLM
embabel.models.default-llm=qwen-coder-32k:latest
#embabel.models.default-embedding-model=nomic-embed-text:latest

# Llm Roles: Create as many as you want and use with byRole("role-name")
embabel.models.llms.best=qwen-coder-32k:latest
embabel.models.llms.cheapest=gpt-oss-32k:latest

#embabel.models.embedding-services.best=nomic-embed-text:latest
#embabel.models.embedding-services.cheapest=nomic-embed-text:latest

# Set this to use your preferred LLM for ranking, to avoid default
embabel.agent-platform.ranking.llm=gpt-oss-32k:latest

# Coding assistant LLM defaults
assistant.llm.model=${embabel.models.default-llm:qwen-coder-32k:latest}
assistant.llm.fallback-model=${embabel.models.llms.cheapest:gpt-oss-32k:latest}
assistant.llm.temperature.craft=0.7
assistant.llm.temperature.review=0.35
# Local-only mode also disables web search in SessionState, so no separate web-search flag is needed
assistant.local-only=true
# Shell input behaviour
assistant.shell.auto-paste=true

# Thinking/Reasoning configuration
# Enable thinking mode support (requires LLM support)
assistant.thinking.enabled=true
# Whether to enable thinking by default for review commands (can be overridden with --with-thinking flag)
assistant.thinking.review-default=false

# Web search fetcher (htmlunit or jsoup). Set fallback-fetcher=none to disable fallback.
assistant.web-search.fetcher=htmlunit
assistant.web-search.fallback-fetcher=jsoup
# Web search summaries used for planning context (seconds)
assistant.tool-summary.ttl-seconds=600

# Intent routing
assistant.intent.enabled=true
assistant.intent.model=gpt-oss-32k:latest
assistant.intent.fallback-model=qwen-coder-32k:latest
assistant.intent.temperature=0.1
assistant.intent.max-tokens=256
assistant.intent.allowed-commands=/chat,/plan,/review,/implement,/edit,/apply,/run,/gitapply,/git-push,/search,/codesearch,/diff,/stage,/commit-suggest,/context,/tree,/status,/model,/health,/revert,/applyBlocks,/paste,/version
assistant.intent.destructive-commands=/edit,/apply,/run,/gitapply,/git-push
assistant.intent.confidence-threshold=0.8
assistant.intent.second-opinion-threshold=0.6

# Request validation
assistant.validation.enabled=true
assistant.validation.skip-in-batch=true
assistant.validation.min-prompt-length=15
assistant.validation.max-clarification-rounds=2
assistant.validation.use-context-resolver=true

# JLine REPL Configuration
lca.repl.enabled=true
lca.repl.prompt=lca>
lca.repl.history-file=${user.home}/.lca/history

# Disable Spring Shell completely (we use JLine REPL instead)
spring.shell.interactive.enabled=false
spring.autoconfigure.exclude=\
  org.springframework.shell.boot.JLineShellAutoConfiguration,\
  org.springframework.shell.boot.StandardAPIAutoConfiguration,\
  org.springframework.shell.boot.ApplicationRunnerAutoConfiguration,\
  org.springframework.shell.boot.ParameterResolverAutoConfiguration,\
  org.springframework.shell.boot.ShellContextAutoConfiguration,\
  org.springframework.shell.boot.CompleterAutoConfiguration,\
  org.springframework.shell.boot.TerminalUIAutoConfiguration,\
  org.springframework.shell.boot.ComponentFlowAutoConfiguration,\
  org.springframework.shell.boot.LineReaderAutoConfiguration,\
  org.springframework.shell.boot.ShellRunnerAutoConfiguration,\
  org.springframework.shell.boot.CommandCatalogAutoConfiguration,\
  org.springframework.shell.boot.JLineAutoConfiguration,\
  org.springframework.shell.boot.StandardCommandsAutoConfiguration,\
  org.springframework.shell.boot.ThemingAutoConfiguration,\
  org.springframework.shell.boot.ExitCodeAutoConfiguration,\
  org.springframework.shell.boot.SpringShellAutoConfiguration,\
  org.springframework.shell.boot.UserConfigAutoConfiguration
